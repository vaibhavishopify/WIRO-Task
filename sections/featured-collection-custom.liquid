{{ 'component-price.css' | asset_url | stylesheet_tag }}
<section class="container mx-auto px-5 lg:px-4 py-8 ">
    {% if section.settings.collection  %}
        <div class=" flex w-full gap-12 lg:justify-center pb-9 lg:pb-10">
            {% render 'title-component', section_settings: section.settings %}
            {% if section.settings.show_view_all %}
            <div class="hidden lg:block w-[65%]">
              <div class="flex justify-between h-full ">
                <div class="border-b border-[#FF6932] opacity-[0.4] w-[85%] self-center "></div>
                <a href=" {{ section.settings.btn_url  | default: section.settings.collection.url }}" class="flex w-[15%] justify-center items-center ">
                    <div class="text-[#FF6932]">{{ section.settings.shop_btn_label }}</div>
                    <img src=" {{ 'shop-all-arrow.svg' |  asset_url }}" width="24" height="24" loading="lazy"/>
                </a>
              </div>
            </div>
            {% endif %}
        </div>
        <div class="{% if section.settings.product_style == 'grid' %}flex flex-col lg:flex-row w-full gap-5{% endif %}">
          {% if section.settings.product_style == 'grid' and section.settings.desktop_img != blank or section.settings.collection.featured_image != blank  %}
          <div class="lg:w-1/2">
              <img class="hidden lg:block w-full h-full" src=" {{ section.settings.desktop_img |  default: section.settings.collection.featured_image |  image_url: master   }}"/>
              <img class="block lg:hidden w-full h-full" src=" {{ section.settings.mobile_img |  default: section.settings.collection.featured_image  |  image_url: master }}"/>
          </div>
          {% endif %}
          <div class="{% if section.settings.product_style == 'slider'  %} collection-product-slider-{{ section.id }} h-fit {% else %}grid grid-cols-2 lg:w-1/2 gap-6{% endif %}">
             {% if section.settings.product_style == 'grid' %}
              {% assign limit_number = 4 %}
            {% endif %}
              {% for product in section.settings.collection.products limit:limit_number %}
                  {% if product.available %}
                      {% comment %} here we are passsing product object to this snippet to get product details {% endcomment %}
                      {% render 'product-card-custom', card_product: product %}
                  {% endif %}
              {% endfor %}
          </div>
      </div>
      {% if section.settings.show_view_all %}
      <div class="block lg:hidden pt-8">
        <div class="flex justify-between">
          <div class="border-b border-[#FF6932] opacity-[0.4] w-[70%] self-center "></div>
          <a href=" {{ section.settings.btn_url  | default: section.settings.collection.url }}" class="flex w-[30%] justify-center items-center ">
              <div class="text-[#FF6932]">{{ section.settings.shop_btn_label }}</div>
              <img src=" {{ 'shop-all-arrow.svg' |  asset_url }}" width="24" height="24" loading="lazy"/>
          </a>
        </div>
      </div>
      {% endif %}
  {% endif %}
</section>
{% if section.settings.product_style == 'slider' %}
<style>
  .collection-product-slider-{{ section.id }} .slick-list.draggable {
    padding-left: 0 !important;  
}
.slick-slide {
    padding-right: 24px !important;
}
</style>
<script>
        $(document).ready(function(){
            $('.collection-product-slider-{{ section.id }}').slick({
                dots: false,
                infinite: true,
                slidesToShow: 4,
                slidesToScroll: 1,
                centerMode: true, // Ensure center mode is enabled for this breakpoint
                centerPadding: '10%', // Adjust as needed
                arrows: false,
                responsive: [
                    {
                        breakpoint: 600, // Mobile devices
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1,
                            dots: false,
                            centerMode: true, // Ensure center mode is enabled for this breakpoint
                            centerPadding: '20%' // Adjust as needed

                        }
                    }
                ]
            });
        });
        
    </script>
{% endif %}
{% schema %}
    {
      "name": "CollectionGrid With Image",
      "tag": "section",
      "class": "collection-grid-image",
      "disabled_on": {
        "groups": ["header", "footer"]
      },
      "settings": [
        {
            "type": "text",
            "id": "collection_title",
            "label": "Add collection Title"
        },
        {
          "type": "range",
          "id": "title_size",
          "min": 2,
          "max": 72,
          "step": 2,
          "default": 48,
          "label": "Select size for section Title Desktop"
        },
        {
          "type": "range",
          "id": "title_size_mobile",
          "min": 2,
          "max": 72,
          "step": 2,
          "default": 26,
          "label": "Select size for section Title Mobile"
        },
        {
          "type": "color",
          "id": "title_color",
          "label": "Select Text Color",
          "default": "#202BCB"
        },
        {
          "type": "collection",
          "id": "collection",
          "label": "t:sections.featured-collection.settings.collection.label"
        },
        {
          "type": "select",
          "id": "product_style",
          "options": [
            {
              "value": "grid",
              "label": "Grid Products"
            },
            {
              "value": "slider",
              "label": "Slider Products"
            }
          ],
          "default": "grid",
          "label": "Select one to show products for slider or grid"
        },
        {
          "type": "text",
          "id": "shop_btn_label",
          "label": "Shop All text",
          "default": "Shop all"
        },
        {
          "type": "url",
          "id": "btn_url",
          "label": "Button URL to redirect on collection page"
        },
        {
            "type": "image_picker",
            "id": "desktop_img",
            "label": "Add Collection Image to Show on desktop "
        },
        {
            "type": "image_picker",
            "id": "mobile_img",
            "label": "Add Collection Image to Show on Mobile"
        },
        
        {
          "type": "checkbox",
          "id": "show_view_all",
          "default": true,
          "label": "t:sections.featured-collection.settings.show_view_all.label"
        },
        {
          "type": "header",
          "content": "t:sections.featured-collection.settings.header.content"
        },
        {
          "type": "header",
          "content": "t:sections.all.padding.section_padding_heading"
        },
        {
          "type": "range",
          "id": "padding_top",
          "min": 0,
          "max": 100,
          "step": 4,
          "unit": "px",
          "label": "t:sections.all.padding.padding_top",
          "default": 36
        },
        {
          "type": "range",
          "id": "padding_bottom",
          "min": 0,
          "max": 100,
          "step": 4,
          "unit": "px",
          "label": "t:sections.all.padding.padding_bottom",
          "default": 36
        }
      ],
      "presets": [
        {
          "name": "CollectionGrid With Image"
        }
      ]
    }
    {% endschema %}